{"ast":null,"code":"import React,{useState,useEffect}from'react';import{collection,query,onSnapshot,updateDoc,doc,deleteDoc}from\"firebase/firestore\";import{db}from'../firebaseconfig';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TaskList(){const[tasks,setTasks]=useState([]);useEffect(()=>{const q=query(collection(db,\"tasks\"));const unsubscribe=onSnapshot(q,querySnapshot=>{const tasksData=[];querySnapshot.forEach(doc=>{tasksData.push({...doc.data(),id:doc.id});});setTasks(tasksData);});return()=>unsubscribe();},[]);const markAsCompleted=async task=>{const taskDocRef=doc(db,\"tasks\",task.id);await updateDoc(taskDocRef,{status:'completed'});};const deleteTask=async id=>{const taskDocRef=doc(db,\"tasks\",id);await deleteDoc(taskDocRef);};return/*#__PURE__*/_jsx(\"div\",{className:\"task-list\",children:tasks.map(task=>/*#__PURE__*/_jsxs(\"div\",{className:`task-item ${task.status==='completed'?'completed':''}`,children:[/*#__PURE__*/_jsx(\"h3\",{children:task.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Due: \",task.dueDate]}),/*#__PURE__*/_jsx(\"p\",{children:task.description}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>markAsCompleted(task),children:\"Mark as Completed\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteTask(task.id),children:\"Delete\"})]},task.id))});}export default TaskList;","map":{"version":3,"names":["React","useState","useEffect","collection","query","onSnapshot","updateDoc","doc","deleteDoc","db","jsx","_jsx","jsxs","_jsxs","TaskList","tasks","setTasks","q","unsubscribe","querySnapshot","tasksData","forEach","push","data","id","markAsCompleted","task","taskDocRef","status","deleteTask","className","children","map","title","dueDate","description","onClick"],"sources":["C:/Users/rosan/basictask_manager/src/components/tasklist.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { collection, query, onSnapshot, updateDoc, doc, deleteDoc } from \"firebase/firestore\";\r\nimport { db } from '../firebaseconfig';\r\n\r\nfunction TaskList() {\r\n    const [tasks, setTasks] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const q = query(collection(db, \"tasks\"));\r\n        const unsubscribe = onSnapshot(q, (querySnapshot) => {\r\n            const tasksData = [];\r\n            querySnapshot.forEach((doc) => {\r\n                tasksData.push({ ...doc.data(), id: doc.id });\r\n            });\r\n            setTasks(tasksData);\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const markAsCompleted = async (task) => {\r\n        const taskDocRef = doc(db, \"tasks\", task.id);\r\n        await updateDoc(taskDocRef, {\r\n            status: 'completed'\r\n        });\r\n    };\r\n\r\n    const deleteTask = async (id) => {\r\n        const taskDocRef = doc(db, \"tasks\", id);\r\n        await deleteDoc(taskDocRef);\r\n    };\r\n\r\n    return (\r\n        <div className=\"task-list\">\r\n            {tasks.map((task) => (\r\n                <div key={task.id} className={`task-item ${task.status === 'completed' ? 'completed' : ''}`}>\r\n                    <h3>{task.title}</h3>\r\n                    <p>Due: {task.dueDate}</p>\r\n                    <p>{task.description}</p>\r\n                    <button onClick={() => markAsCompleted(task)}>Mark as Completed</button>\r\n                    <button onClick={() => deleteTask(task.id)}>Delete</button>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TaskList;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,UAAU,CAAEC,KAAK,CAAEC,UAAU,CAAEC,SAAS,CAAEC,GAAG,CAAEC,SAAS,KAAQ,oBAAoB,CAC7F,OAASC,EAAE,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAChB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAe,CAAC,CAAGb,KAAK,CAACD,UAAU,CAACM,EAAE,CAAE,OAAO,CAAC,CAAC,CACxC,KAAM,CAAAS,WAAW,CAAGb,UAAU,CAACY,CAAC,CAAGE,aAAa,EAAK,CACjD,KAAM,CAAAC,SAAS,CAAG,EAAE,CACpBD,aAAa,CAACE,OAAO,CAAEd,GAAG,EAAK,CAC3Ba,SAAS,CAACE,IAAI,CAAC,CAAE,GAAGf,GAAG,CAACgB,IAAI,CAAC,CAAC,CAAEC,EAAE,CAAEjB,GAAG,CAACiB,EAAG,CAAC,CAAC,CACjD,CAAC,CAAC,CACFR,QAAQ,CAACI,SAAS,CAAC,CACvB,CAAC,CAAC,CAEF,MAAO,IAAMF,WAAW,CAAC,CAAC,CAC9B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAO,eAAe,CAAG,KAAO,CAAAC,IAAI,EAAK,CACpC,KAAM,CAAAC,UAAU,CAAGpB,GAAG,CAACE,EAAE,CAAE,OAAO,CAAEiB,IAAI,CAACF,EAAE,CAAC,CAC5C,KAAM,CAAAlB,SAAS,CAACqB,UAAU,CAAE,CACxBC,MAAM,CAAE,WACZ,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAC,UAAU,CAAG,KAAO,CAAAL,EAAE,EAAK,CAC7B,KAAM,CAAAG,UAAU,CAAGpB,GAAG,CAACE,EAAE,CAAE,OAAO,CAAEe,EAAE,CAAC,CACvC,KAAM,CAAAhB,SAAS,CAACmB,UAAU,CAAC,CAC/B,CAAC,CAED,mBACIhB,IAAA,QAAKmB,SAAS,CAAC,WAAW,CAAAC,QAAA,CACrBhB,KAAK,CAACiB,GAAG,CAAEN,IAAI,eACZb,KAAA,QAAmBiB,SAAS,CAAE,aAAaJ,IAAI,CAACE,MAAM,GAAK,WAAW,CAAG,WAAW,CAAG,EAAE,EAAG,CAAAG,QAAA,eACxFpB,IAAA,OAAAoB,QAAA,CAAKL,IAAI,CAACO,KAAK,CAAK,CAAC,cACrBpB,KAAA,MAAAkB,QAAA,EAAG,OAAK,CAACL,IAAI,CAACQ,OAAO,EAAI,CAAC,cAC1BvB,IAAA,MAAAoB,QAAA,CAAIL,IAAI,CAACS,WAAW,CAAI,CAAC,cACzBxB,IAAA,WAAQyB,OAAO,CAAEA,CAAA,GAAMX,eAAe,CAACC,IAAI,CAAE,CAAAK,QAAA,CAAC,mBAAiB,CAAQ,CAAC,cACxEpB,IAAA,WAAQyB,OAAO,CAAEA,CAAA,GAAMP,UAAU,CAACH,IAAI,CAACF,EAAE,CAAE,CAAAO,QAAA,CAAC,QAAM,CAAQ,CAAC,GALrDL,IAAI,CAACF,EAMV,CACR,CAAC,CACD,CAAC,CAEd,CAEA,cAAe,CAAAV,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}